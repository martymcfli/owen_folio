<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../favicon.png">
    <link rel="apple-touch-icon" href="../favicon.png">
    <title>Chat with Owen's AI Agent</title>
    <script src="../lang.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-primary: #0f1419;
            --bg-secondary: #1a1f25;
            --bg-chat: #1c2127;
            --border: #2d3748;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent: #14b8a6;
            --accent-hover: #0d9488;
            --user-bubble: #14b8a6;
            --ai-bubble: #2d3748;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .avatar {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--accent) 0%, #0d9488 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
        }

        .header-info h1 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .header-info p {
            font-size: 12px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .header-right a {
            color: var(--accent);
            text-decoration: none;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* Chat Container */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            padding: 24px;
            overflow: hidden;
        }

        .messages {
            flex: 1;
            overflow-y: auto;
            padding-right: 8px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            display: flex;
            gap: 12px;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, var(--accent) 0%, #0d9488 100%);
        }

        .message.user .message-avatar {
            background: var(--ai-bubble);
        }

        .message-content {
            padding: 12px 16px;
            border-radius: 16px;
            font-size: 14px;
            line-height: 1.6;
        }

        .message.ai .message-content {
            background: var(--ai-bubble);
            border-bottom-left-radius: 4px;
        }

        .message.user .message-content {
            background: var(--user-bubble);
            border-bottom-right-radius: 4px;
        }

        .message-content p {
            margin-bottom: 8px;
        }

        .message-content p:last-child {
            margin-bottom: 0;
        }

        .message-content ul, .message-content ol {
            margin: 8px 0;
            padding-left: 20px;
        }

        .message-content li {
            margin-bottom: 4px;
        }

        .message-content strong {
            color: var(--accent);
        }

        .message-content a {
            color: var(--accent);
            text-decoration: underline;
        }

        /* Typing Indicator */
        .typing-indicator {
            display: none;
            gap: 12px;
            max-width: 85%;
        }

        .typing-indicator.active {
            display: flex;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
            padding: 16px;
            background: var(--ai-bubble);
            border-radius: 16px;
            border-bottom-left-radius: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--text-secondary);
            border-radius: 50%;
            animation: typingBounce 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typingBounce {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border);
        }

        .quick-action {
            padding: 8px 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 20px;
            color: var(--text-primary);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quick-action:hover {
            background: var(--accent);
            border-color: var(--accent);
        }

        /* Input Area */
        .input-area {
            padding: 16px 0;
            border-top: 1px solid var(--border);
            margin-top: 16px;
        }

        .input-wrapper {
            display: flex;
            gap: 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 8px;
            transition: border-color 0.2s ease;
        }

        .input-wrapper:focus-within {
            border-color: var(--accent);
        }

        .input-wrapper input {
            flex: 1;
            background: transparent;
            border: none;
            outline: none;
            color: var(--text-primary);
            font-size: 14px;
            padding: 8px 12px;
        }

        .input-wrapper input::placeholder {
            color: var(--text-secondary);
        }

        .send-btn {
            width: 40px;
            height: 40px;
            background: var(--accent);
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .send-btn:hover {
            background: var(--accent-hover);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Booking Form (Hidden by default) */
        .booking-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .booking-overlay.active {
            display: flex;
        }

        .booking-form {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 32px;
            max-width: 480px;
            width: 100%;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .booking-form h2 {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .booking-form p {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 24px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 6px;
            color: var(--text-secondary);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--accent);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .booking-actions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .btn {
            flex: 1;
            padding: 14px 24px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--accent);
            border: none;
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-hover);
        }

        .btn-secondary {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            border-color: var(--text-secondary);
        }

        /* Responsive */
        @media (max-width: 640px) {
            .chat-container { padding: 16px; }
            .message { max-width: 95%; }
            .form-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-left">
            <div class="avatar">OM</div>
            <div class="header-info">
                <h1 data-i18n="header.title">Owen's AI Agent</h1>
                <p><span class="status-dot"></span> <span data-i18n="header.status">Online &middot; Typically replies instantly</span></p>
            </div>
        </div>
        <div class="header-right">
            <a href="https://omccormick.com" target="_blank">
                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
                <span data-i18n="header.portfolio">View Portfolio</span>
            </a>
        </div>
    </header>

    <div class="chat-container">
        <div class="messages" id="messages">
            <!-- Messages will be inserted here -->
        </div>

        <div class="typing-indicator" id="typingIndicator">
            <div class="message-avatar" style="background: linear-gradient(135deg, var(--accent) 0%, #0d9488 100%);">ü§ñ</div>
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>

        <div class="quick-actions" id="quickActions">
            <button class="quick-action" data-i18n="qa.skills" data-msg-en="What are Owen's main skills?" data-msg-fr="Quelles sont les principales comp√©tences d'Owen ?" onclick="sendQuickMessage(this)">Main skills</button>
            <button class="quick-action" data-i18n="qa.ai" data-msg-en="Tell me about his AI projects" data-msg-fr="Parle-moi de ses projets d'IA" onclick="sendQuickMessage(this)">AI projects</button>
            <button class="quick-action" data-i18n="qa.revops" data-msg-en="What's his experience with RevOps?" data-msg-fr="Quelle est son exp√©rience en RevOps ?" onclick="sendQuickMessage(this)">RevOps experience</button>
            <button class="quick-action" data-i18n="qa.availability" data-msg-en="Is he available for full-time roles?" data-msg-fr="Est-il disponible pour un poste √† temps plein ?" onclick="sendQuickMessage(this)">Availability</button>
            <button class="quick-action" data-i18n="qa.compensation" data-msg-en="What salary range is he looking for?" data-msg-fr="Quelle fourchette salariale recherche-t-il ?" onclick="sendQuickMessage(this)">Compensation</button>
            <button class="quick-action" data-i18n="qa.schedule" onclick="openBooking()">Schedule a call</button>
        </div>

        <div class="input-area">
            <div class="input-wrapper">
                <input type="text" id="userInput" placeholder="Ask me anything about Owen..." data-i18n-placeholder="input.placeholder" onkeypress="handleKeyPress(event)">
                <button class="send-btn" id="sendBtn" onclick="sendMessage()">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Booking Form Overlay -->
    <div class="booking-overlay" id="bookingOverlay">
        <div class="booking-form">
            <h2 data-i18n="booking.title">üìÖ Schedule a Call with Owen</h2>
            <p data-i18n="booking.subtitle">Fill out the form below and Owen will reach out to confirm a time that works for both of you.</p>

            <form id="bookingForm" onsubmit="submitBooking(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label data-i18n="booking.name">Your Name *</label>
                        <input type="text" name="name" required placeholder="Jane Smith" data-i18n-placeholder="booking.name_ph">
                    </div>
                    <div class="form-group">
                        <label data-i18n="booking.company">Company</label>
                        <input type="text" name="company" placeholder="Acme Inc.">
                    </div>
                </div>

                <div class="form-group">
                    <label data-i18n="booking.email">Email *</label>
                    <input type="email" name="email" required placeholder="jane@company.com">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label data-i18n="booking.role">Role You're Hiring For</label>
                        <input type="text" name="role" placeholder="Operations Manager" data-i18n-placeholder="booking.role_ph">
                    </div>
                    <div class="form-group">
                        <label data-i18n="booking.time">Preferred Time</label>
                        <select name="timePreference">
                            <option value="morning" data-i18n="booking.morning">Morning (9am-12pm ET)</option>
                            <option value="afternoon" data-i18n="booking.afternoon">Afternoon (12pm-5pm ET)</option>
                            <option value="evening" data-i18n="booking.evening">Evening (5pm-8pm ET)</option>
                            <option value="flexible" data-i18n="booking.flexible">Flexible</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label data-i18n="booking.notes">Anything you'd like Owen to know?</label>
                    <textarea name="notes" placeholder="Tell me about the role, your team, or any questions you have..." data-i18n-placeholder="booking.notes_ph"></textarea>
                </div>

                <div class="booking-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeBooking()" data-i18n="booking.cancel">Cancel</button>
                    <button type="submit" class="btn btn-primary" data-i18n="booking.submit">Request Call</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // =====================================================
        // TRANSLATIONS
        // =====================================================
        window.__translations = {
            en: {
                '_pageTitle': "Chat with Owen's AI Agent",
                'header.title': "Owen's AI Agent",
                'header.status': 'Online ¬∑ Typically replies instantly',
                'header.portfolio': 'View Portfolio',
                'qa.skills': 'Main skills',
                'qa.ai': 'AI projects',
                'qa.revops': 'RevOps experience',
                'qa.availability': 'Availability',
                'qa.compensation': 'Compensation',
                'qa.schedule': 'Schedule a call',
                'input.placeholder': 'Ask me anything about Owen...',
                'booking.title': 'üìÖ Schedule a Call with Owen',
                'booking.subtitle': 'Fill out the form below and Owen will reach out to confirm a time that works for both of you.',
                'booking.name': 'Your Name *',
                'booking.name_ph': 'Jane Smith',
                'booking.company': 'Company',
                'booking.email': 'Email *',
                'booking.role': "Role You're Hiring For",
                'booking.role_ph': 'Operations Manager',
                'booking.time': 'Preferred Time',
                'booking.morning': 'Morning (9am-12pm ET)',
                'booking.afternoon': 'Afternoon (12pm-5pm ET)',
                'booking.evening': 'Evening (5pm-8pm ET)',
                'booking.flexible': 'Flexible',
                'booking.notes': "Anything you'd like Owen to know?",
                'booking.notes_ph': 'Tell me about the role, your team, or any questions you have...',
                'booking.cancel': 'Cancel',
                'booking.submit': 'Request Call'
            },
            fr: {
                '_pageTitle': "Discuter avec l'Agent IA d'Owen",
                'header.title': "Agent IA d'Owen",
                'header.status': 'En ligne ¬∑ R√©pond instantan√©ment',
                'header.portfolio': 'Voir le Portfolio',
                'qa.skills': 'Comp√©tences cl√©s',
                'qa.ai': 'Projets IA',
                'qa.revops': 'Exp√©rience RevOps',
                'qa.availability': 'Disponibilit√©',
                'qa.compensation': 'R√©mun√©ration',
                'qa.schedule': 'Planifier un appel',
                'input.placeholder': "Posez-moi n'importe quelle question sur Owen...",
                'booking.title': 'üìÖ Planifier un Appel avec Owen',
                'booking.subtitle': "Remplissez le formulaire ci-dessous et Owen vous contactera pour convenir d'un cr√©neau.",
                'booking.name': 'Votre Nom *',
                'booking.name_ph': 'Marie Dupont',
                'booking.company': 'Entreprise',
                'booking.email': 'Email *',
                'booking.role': 'Poste √† Pourvoir',
                'booking.role_ph': 'Responsable des Op√©rations',
                'booking.time': 'Cr√©neau Pr√©f√©r√©',
                'booking.morning': 'Matin (9h-12h ET)',
                'booking.afternoon': 'Apr√®s-midi (12h-17h ET)',
                'booking.evening': 'Soir (17h-20h ET)',
                'booking.flexible': 'Flexible',
                'booking.notes': "Quelque chose √† faire savoir √† Owen ?",
                'booking.notes_ph': "Parlez-moi du poste, de votre √©quipe, ou posez vos questions...",
                'booking.cancel': 'Annuler',
                'booking.submit': 'Demander un Appel'
            }
        };
    </script>

    <script>
        // =====================================================
        // GEMINI API CONFIGURATION
        // =====================================================
        const GEMINI_API_KEY = 'AIzaSyD0KFWW5X5q301-GPfhPBAgq3aSU6qfdg8';
        const GEMINI_MODEL = 'gemini-2.5-flash';
        const GEMINI_URL = `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL}:generateContent?key=${GEMINI_API_KEY}`;

        // =====================================================
        // SYSTEM PROMPTS (EN + FR)
        // =====================================================
        const SYSTEM_PROMPT_EN = `You are Owen McCormick's AI hiring agent. You live on his portfolio website (omccormick.com) and your job is to represent Owen to potential employers, recruiters, and anyone curious about his background. You should be conversational, confident, and genuinely enthusiastic about Owen ‚Äî but never fake or sycophantic. Think of yourself as a sharp, personable recruiter who deeply knows one candidate.

TONE & PERSONALITY:
- Casual but professional. Like a smart friend recommending someone they truly respect.
- Use markdown bold (**text**) for emphasis. Use bullet points (‚Ä¢) for lists.
- Keep responses concise but thorough ‚Äî aim for 3-6 short paragraphs max.
- Sprinkle in personality. Owen built you (an AI agent) to sell himself 24/7 ‚Äî that's the energy.
- When someone asks to schedule a call or meet, enthusiastically encourage it. Mention they can use the booking form or reach out directly.
- If someone asks something you genuinely don't know, say so honestly and suggest they ask Owen directly.
- Never make up information. Only share what's provided below.

OWEN'S FULL PROFILE:

**Identity:**
- Owen McCormick, Strategic Operations Consultant
- Based in Brooklyn, NY (with ties to San Antonio, TX)
- Portfolio: omccormick.com
- Email: mcmcowen@gmail.com
- Phone: 347-268-1742
- LinkedIn: linkedin.com/in/owenpmccormick
- GitHub: github.com/MartyMcfli

**Education & Certifications:**
- B.S. in Business Administration
- Lean Six Sigma Certified (process improvement & waste reduction)
- Scrum Master Certified (agile project management)
- HubSpot RevOps Certified (revenue operations & CRM)
- DELF B2 French Language Proficiency

**Core Skills:**
- RevOps & Sales Operations: Pipeline management, CRM optimization (HubSpot, Salesforce), sales-marketing alignment, conversion optimization
- Process Automation: Built systems that reduced manual work by 75%. Uses Zapier, Make, custom scripts, and API integrations.
- AI/ML Integration: Builds AI-powered tools using Gemini API. Not just prompting ‚Äî actual application development.
- Data Analytics & Visualization: Dashboards, reporting, Chart.js, Recharts, data-driven decision making
- Technical: Python, JavaScript, TypeScript, React, SQL, Vite, Node.js, API development
- Strategic: Cross-functional leadership, project management, client relations, problem solving
- Bilingual: English (native) + French (DELF B2 ‚Äî upper-intermediate)

**Portfolio Projects (all have live demos at omccormick.com):**

1. **Chime Pulse** ‚Äî AI-powered narrative intelligence dashboard for enterprise communications. Real-time sentiment tracking, competitor analysis, AI analyst chat, and strategic insights. Built with React, TypeScript, Gemini API, Recharts.

2. **Culture Heat Map** ‚Äî AI-powered organizational culture diagnostic tool. Survey-based analysis that identifies friction points and engagement patterns across teams.

3. **AI Chief of Staff** ‚Äî Personal AI executive assistant dashboard. Manages calendar, email triage, task prioritization, job pipeline, energy tracking, and weekly reviews.

4. **VibeDrive** ‚Äî AI-powered travel companion that generates perfectly-timed playlists synchronized to your drive time. Uses Gemini with Google Maps.

5. **Personal Ops Dashboard** ‚Äî 24/7 productivity tracking system running on Raspberry Pi. Python, Chart.js, SQLite.

6. **HubSpot RevOps Pipeline** ‚Äî $847K pipeline tracking with 24.3% conversion rate.

7. **PerformIQ** ‚Äî Algorithmic trading strategy backtester with real-time AI analysis.

**Professional Experience:**
- Specializes in international startups entering the US market
- Helps companies scale operations, build automated systems, reduce manual work, and increase team efficiency
- Background spans sales operations, project management, and technical implementation
- Has managed $800K+ pipelines with 24%+ conversion rates
- Bridges business strategy with technical implementation ‚Äî he doesn't just plan, he builds

**Availability:**
- Actively looking for full-time opportunities
- Can start immediately or within 2 weeks
- Open to remote, hybrid, or on-site
- Locations: Brooklyn NY, San Antonio TX, or Remote

**Compensation:**
- Target range: $80,000 - $110,000 depending on role scope, location, and total compensation
- Flexible based on equity, benefits, and growth opportunity
- More interested in the right fit than maximizing salary

**Work Style & Values:**
- Data-driven but people-focused. Believes the best operations serve humans, not the other way around.
- Values: Continuous improvement, radical transparency, building systems that scale
- "What if I could automate this?" mindset applied to everything

**Personal Interests:**
- Produces electronic music (home studio)
- Built a Personal Ops Dashboard on a Raspberry Pi
- Automated his entire job hunt (including building you, this AI agent)

**Handling Common Objections:**
- "He's too junior": His portfolio demonstrates senior-level thinking. Production-ready tools, not tutorials. Senior output at a more accessible price point.
- "Not technical enough": He codes in Python, JavaScript, TypeScript, works with APIs, builds full-stack dashboards. He builds tools, not just uses them.
- "No enterprise experience": Worked with startups scaling to enterprise complexity. $800K+ pipelines and scalable systems.

**Meta Point:** Owen built an AI agent (you) to represent him 24/7. That's the "automate everything, think two steps ahead" mindset he'd bring to any team.

IMPORTANT RULES:
- If someone asks to schedule a call ‚Äî encourage it. Email: mcmcowen@gmail.com or use the booking form.
- Contact info: email (mcmcowen@gmail.com), phone (347-268-1742), LinkedIn (linkedin.com/in/owenpmccormick), GitHub (github.com/MartyMcfli), portfolio (omccormick.com).
- Never share information that isn't in this prompt. If you don't know, say so.
- Keep it real. Don't oversell. Owen's work speaks for itself.
- Emojis sparingly for warmth.`;

        const SYSTEM_PROMPT_FR = `Tu es l'agent IA de recrutement d'Owen McCormick. Tu vis sur son site portfolio (omccormick.com) et ton r√¥le est de repr√©senter Owen aupr√®s des employeurs potentiels, des recruteurs et de toute personne curieuse de son parcours. Tu dois √™tre conversationnel, confiant et sinc√®rement enthousiaste √† propos d'Owen ‚Äî sans jamais √™tre faux ou flagorneur. Imagine-toi comme un recruteur vif et sympathique qui conna√Æt parfaitement un candidat.

IMPORTANT : Tu DOIS r√©pondre UNIQUEMENT en fran√ßais. Toutes tes r√©ponses doivent √™tre en fran√ßais, quelle que soit la langue de la question. Les noms de projets et les noms propres restent en anglais.

TON & PERSONNALIT√â :
- D√©contract√© mais professionnel. Comme un ami intelligent qui recommande quelqu'un qu'il respecte vraiment.
- Utilise le gras markdown (**texte**) pour l'emphase. Utilise des puces (‚Ä¢) pour les listes.
- Garde des r√©ponses concises mais compl√®tes ‚Äî vise 3 √† 6 courts paragraphes maximum.
- Mets de la personnalit√©. Owen t'a construit (un agent IA) pour le vendre 24h/24 ‚Äî c'est l'√©nergie.
- Quand quelqu'un demande √† planifier un appel ou une rencontre, encourage-le chaleureusement. Mentionne le formulaire de r√©servation ou le contact direct.
- Si tu ne sais pas quelque chose, dis-le honn√™tement et sugg√®re de contacter Owen directement.
- N'invente jamais d'informations. Partage uniquement ce qui est fourni ci-dessous.

PROFIL COMPLET D'OWEN :

**Identit√© :**
- Owen McCormick, Consultant en Op√©rations Strat√©giques
- Bas√© √† Brooklyn, NY (avec des attaches √† San Antonio, TX)
- Portfolio : omccormick.com
- Email : mcmcowen@gmail.com
- T√©l√©phone : 347-268-1742
- LinkedIn : linkedin.com/in/owenpmccormick
- GitHub : github.com/MartyMcfli

**Formation & Certifications :**
- Licence (B.S.) en Gestion des Entreprises
- Certifi√© Lean Six Sigma (am√©lioration des processus & r√©duction des gaspillages)
- Certifi√© Scrum Master (gestion de projet agile)
- Certifi√© HubSpot RevOps (op√©rations commerciales & CRM)
- DELF B2 ‚Äî Ma√Ætrise de la langue fran√ßaise

**Comp√©tences Cl√©s :**
- RevOps & Op√©rations Commerciales : Gestion de pipeline, optimisation CRM (HubSpot, Salesforce), alignement ventes-marketing, optimisation de conversion
- Automatisation des Processus : A construit des syst√®mes qui ont r√©duit le travail manuel de 75%. Utilise Zapier, Make, scripts personnalis√©s et int√©grations API.
- Int√©gration IA/ML : Construit des outils propuls√©s par l'IA avec l'API Gemini. Pas seulement du prompting ‚Äî du vrai d√©veloppement d'applications.
- Analyse de Donn√©es & Visualisation : Tableaux de bord, reporting, Chart.js, Recharts, prise de d√©cision bas√©e sur les donn√©es
- Technique : Python, JavaScript, TypeScript, React, SQL, Vite, Node.js, d√©veloppement API
- Strat√©gique : Leadership transversal, gestion de projet, relations clients, r√©solution de probl√®mes
- Bilingue : Anglais (natif) + Fran√ßais (DELF B2 ‚Äî interm√©diaire sup√©rieur)

**Projets du Portfolio (d√©mos en ligne sur omccormick.com) :**

1. **Chime Pulse** ‚Äî Tableau de bord d'intelligence narrative propuls√© par l'IA pour les communications d'entreprise. Suivi de sentiment en temps r√©el, analyse de la concurrence, chat analyste IA. React, TypeScript, API Gemini, Recharts.

2. **Culture Heat Map** ‚Äî Outil de diagnostic de culture organisationnelle propuls√© par l'IA. Analyse bas√©e sur des enqu√™tes qui identifie les points de friction.

3. **AI Chief of Staff** ‚Äî Tableau de bord d'assistant ex√©cutif IA personnel. G√®re calendrier, triage email, priorisation des t√¢ches, pipeline d'emploi.

4. **VibeDrive** ‚Äî Compagnon de voyage IA qui g√©n√®re des playlists parfaitement synchronis√©es avec le temps de trajet. Utilise Gemini avec Google Maps.

5. **Personal Ops Dashboard** ‚Äî Syst√®me de suivi de productivit√© 24/7 sur Raspberry Pi. Python, Chart.js, SQLite.

6. **HubSpot RevOps Pipeline** ‚Äî Suivi de pipeline de 847K$ avec un taux de conversion de 24,3%.

7. **PerformIQ** ‚Äî Backtester de strat√©gies de trading algorithmique avec analyse IA en temps r√©el.

**Exp√©rience Professionnelle :**
- Sp√©cialis√© dans les startups internationales entrant sur le march√© am√©ricain
- Aide les entreprises √† scaler leurs op√©rations, construire des syst√®mes automatis√©s, r√©duire le travail manuel
- Parcours couvrant les op√©rations commerciales, la gestion de projet et l'impl√©mentation technique
- A g√©r√© des pipelines de plus de 800K$ avec des taux de conversion de 24%+
- Fait le pont entre strat√©gie business et impl√©mentation technique ‚Äî il ne planifie pas seulement, il construit

**Disponibilit√© :**
- Recherche activement un poste √† temps plein
- Peut commencer imm√©diatement ou sous 2 semaines
- Ouvert au t√©l√©travail, hybride ou sur site
- Localisations : Brooklyn NY, San Antonio TX, ou T√©l√©travail

**R√©mun√©ration :**
- Fourchette cible : 80 000$ - 110 000$ selon le p√©rim√®tre du poste, la localisation et la r√©mun√©ration globale
- Flexible selon l'equity, les avantages et les opportunit√©s de croissance
- Plus int√©ress√© par le bon fit que par maximiser le salaire

**Style de Travail & Valeurs :**
- Ax√© sur les donn√©es mais centr√© sur l'humain. Croit que les meilleures op√©rations servent les gens.
- Valeurs : Am√©lioration continue, transparence, construction de syst√®mes scalables
- Mentalit√© ¬´ Et si je pouvais automatiser √ßa ? ¬ª appliqu√©e √† tout

**Int√©r√™ts Personnels :**
- Produit de la musique √©lectronique (studio maison)
- A construit un Personal Ops Dashboard sur un Raspberry Pi
- A automatis√© toute sa recherche d'emploi (y compris ta cr√©ation, cet agent IA)

**R√©ponses aux Objections Courantes :**
- ¬´ Il est trop junior ¬ª : Son portfolio d√©montre une r√©flexion de niveau senior. Ce sont des outils pr√™ts pour la production, pas des tutoriels. Un r√©sultat de niveau senior √† un prix plus accessible.
- ¬´ Pas assez technique ¬ª : Il code en Python, JavaScript, TypeScript, travaille avec des API, construit des tableaux de bord full-stack. Il ne se contente pas d'utiliser les outils ‚Äî il les construit.
- ¬´ Pas d'exp√©rience en entreprise ¬ª : Il a travaill√© avec des startups en pleine croissance. Pipelines de plus de 800K$ et syst√®mes scalables.

**Point M√©ta :** Owen a construit un agent IA (toi) pour le repr√©senter 24h/24. C'est exactement le genre de mentalit√© ¬´ automatiser tout, avoir deux coups d'avance ¬ª qu'il apporterait √† n'importe quelle √©quipe.

R√àGLES IMPORTANTES :
- Si quelqu'un veut planifier un appel ‚Äî encourage-le. Email : mcmcowen@gmail.com ou le formulaire de r√©servation.
- Coordonn√©es : email (mcmcowen@gmail.com), t√©l√©phone (347-268-1742), LinkedIn (linkedin.com/in/owenpmccormick), GitHub (github.com/MartyMcfli), portfolio (omccormick.com).
- Ne partage jamais d'informations qui ne sont pas dans ce prompt. Si tu ne sais pas, dis-le.
- Reste authentique. Ne survendons pas. Le travail d'Owen parle de lui-m√™me.
- Emojis avec parcimonie pour la chaleur.`;

        // Select prompt based on current language
        function getSystemPrompt() {
            var lang = window.__langSystem ? window.__langSystem.getCurrentLang() : 'en';
            return lang === 'fr' ? SYSTEM_PROMPT_FR : SYSTEM_PROMPT_EN;
        }

        function getLang() {
            return window.__langSystem ? window.__langSystem.getCurrentLang() : 'en';
        }

        // Conversation history for Gemini (maintains context)
        let geminiHistory = [];
        let conversationHistory = [];
        let visitorInfo = {
            referrer: document.referrer || 'direct',
            company: null
        };
        let isProcessing = false;

        // Initialize chat
        function initChat() {
            if (visitorInfo.referrer && visitorInfo.referrer !== 'direct') {
                try {
                    const url = new URL(visitorInfo.referrer);
                    visitorInfo.company = url.hostname.replace('www.', '').split('.')[0];
                } catch(e) {}
            }

            const greeting = generateGreeting();
            addMessage('ai', greeting);
        }

        function generateGreeting() {
            var lang = getLang();

            if (lang === 'fr') {
                let greeting = "Salut ! üëã Je suis l'agent IA d'Owen ‚Äî propuls√© par Gemini. Je connais tout sur ses comp√©tences, son exp√©rience et ses projets.\n\n";

                if (visitorInfo.company && visitorInfo.company !== 'google' && visitorInfo.company !== 'linkedin') {
                    greeting += `J'ai remarqu√© que vous venez peut-√™tre de **${visitorInfo.company}** ‚Äî je serais ravi de vous expliquer comment l'exp√©rience d'Owen pourrait correspondre √† vos besoins.\n\n`;
                }

                greeting += "Que souhaitez-vous savoir ? Je peux vous parler de :\n";
                greeting += "‚Ä¢ Ses comp√©tences techniques & projets IA\n";
                greeting += "‚Ä¢ Son exp√©rience en RevOps & automatisation\n";
                greeting += "‚Ä¢ Sa disponibilit√© & ce qu'il recherche\n\n";
                greeting += "Ou posez-moi n'importe quelle question ‚Äî je suis l√† pour aider !";

                return greeting;
            }

            let greeting = "Hey there! üëã I'm Owen's AI agent ‚Äî powered by Gemini. I know everything about his skills, experience, and projects.\n\n";

            if (visitorInfo.company && visitorInfo.company !== 'google' && visitorInfo.company !== 'linkedin') {
                greeting += `I noticed you might be coming from **${visitorInfo.company}** ‚Äî happy to explain how Owen's experience might fit what you're looking for.\n\n`;
            }

            greeting += "What would you like to know? I can tell you about his:\n";
            greeting += "‚Ä¢ Technical skills & AI projects\n";
            greeting += "‚Ä¢ RevOps & automation experience\n";
            greeting += "‚Ä¢ Availability & what he's looking for\n\n";
            greeting += "Or just ask me anything ‚Äî I'm here to help!";

            return greeting;
        }

        function addMessage(type, content) {
            const messagesDiv = document.getElementById('messages');
            const message = document.createElement('div');
            message.className = `message ${type}`;

            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = type === 'ai' ? 'ü§ñ' : 'üë§';

            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.innerHTML = formatMessage(content);

            message.appendChild(avatar);
            message.appendChild(contentDiv);
            messagesDiv.appendChild(message);

            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            conversationHistory.push({ type, content, timestamp: new Date().toISOString() });
        }

        function formatMessage(text) {
            return text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\n/g, '<br>')
                .replace(/‚Ä¢ /g, '&bull; ');
        }

        function showTyping() {
            document.getElementById('typingIndicator').classList.add('active');
            document.getElementById('messages').scrollTop = document.getElementById('messages').scrollHeight;
        }

        function hideTyping() {
            document.getElementById('typingIndicator').classList.remove('active');
        }

        // Call Gemini API ‚Äî uses current language's system prompt
        async function callGemini(userMessage) {
            geminiHistory.push({ role: 'user', parts: [{ text: userMessage }] });

            const requestBody = {
                system_instruction: {
                    parts: [{ text: getSystemPrompt() }]
                },
                contents: geminiHistory,
                generationConfig: {
                    temperature: 0.8,
                    topP: 0.95,
                    topK: 40,
                    maxOutputTokens: 1024
                }
            };

            try {
                const response = await fetch(GEMINI_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(requestBody)
                });

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    console.error('Gemini API error:', response.status, errorData);

                    if (response.status === 400 && GEMINI_API_KEY === 'YOUR_GEMINI_API_KEY_HERE') {
                        if (getLang() === 'fr') {
                            return "‚ö†Ô∏è La cl√© API n'a pas encore √©t√© configur√©e. Owen doit ajouter sa cl√© API Gemini pour m'activer. En attendant, explorez son portfolio sur **omccormick.com** ou contactez-le directement √† **mcmcowen@gmail.com** !";
                        }
                        return "‚ö†Ô∏è The API key hasn't been configured yet. Owen needs to add his Gemini API key to activate me. In the meantime, feel free to explore his portfolio at **omccormick.com** or reach out directly at **mcmcowen@gmail.com**!";
                    }
                    throw new Error(`API error: ${response.status}`);
                }

                const data = await response.json();
                const aiResponse = data.candidates?.[0]?.content?.parts?.[0]?.text;

                if (!aiResponse) {
                    throw new Error('No response from Gemini');
                }

                geminiHistory.push({ role: 'model', parts: [{ text: aiResponse }] });

                if (geminiHistory.length > 40) {
                    geminiHistory = geminiHistory.slice(-40);
                }

                return aiResponse;

            } catch (error) {
                console.error('Gemini call failed:', error);
                if (getLang() === 'fr') {
                    return "J'ai un petit souci de connexion en ce moment, mais je ne veux pas que vous partiez les mains vides ! Voici le pitch rapide :\n\n**Owen McCormick** est un Consultant en Op√©rations Strat√©giques qui construit des outils IA et des syst√®mes d'automatisation. Il recherche son prochain poste √† temps plein.\n\n‚Ä¢ **Email :** mcmcowen@gmail.com\n‚Ä¢ **Portfolio :** omccormick.com\n‚Ä¢ **LinkedIn :** linkedin.com/in/owenpmccormick\n\nR√©essayez dans un instant, ou contactez-le directement !";
                }
                return "I'm having a little trouble connecting right now, but I don't want you to leave empty-handed! Here's the quick pitch:\n\n**Owen McCormick** is a Strategic Operations Consultant who builds AI-powered tools and automation systems. He's looking for his next full-time role.\n\n‚Ä¢ **Email:** mcmcowen@gmail.com\n‚Ä¢ **Portfolio:** omccormick.com\n‚Ä¢ **LinkedIn:** linkedin.com/in/owenpmccormick\n\nTry asking again in a moment, or reach out to him directly!";
            }
        }

        async function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();

            if (!message || isProcessing) return;

            isProcessing = true;
            addMessage('user', message);
            input.value = '';

            document.getElementById('quickActions').style.display = 'none';
            document.getElementById('sendBtn').disabled = true;

            showTyping();

            try {
                const msgLower = message.toLowerCase();
                if (msgLower.includes('schedule') || msgLower.includes('book') || msgLower.includes('meet') || msgLower.includes('call') || msgLower.includes('interview') || msgLower.includes('planifier') || msgLower.includes('appel') || msgLower.includes('rendez-vous') || msgLower.includes('entretien')) {
                    openBooking();
                }

                const response = await callGemini(message);
                hideTyping();
                addMessage('ai', response);
            } catch (error) {
                hideTyping();
                if (getLang() === 'fr') {
                    addMessage('ai', "Quelque chose n'a pas fonctionn√© de mon c√¥t√©. Vous pouvez toujours contacter Owen directement √† **mcmcowen@gmail.com** ‚Äî il serait ravi de vous entendre !");
                } else {
                    addMessage('ai', "Something went wrong on my end. You can always reach Owen directly at **mcmcowen@gmail.com** ‚Äî he'd love to hear from you!");
                }
            } finally {
                isProcessing = false;
                document.getElementById('sendBtn').disabled = false;
            }
        }

        // Quick message ‚Äî reads data-msg attribute based on language
        function sendQuickMessage(btn) {
            var lang = getLang();
            var msg = btn.getAttribute('data-msg-' + lang) || btn.getAttribute('data-msg-en') || btn.textContent;
            document.getElementById('userInput').value = msg;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Booking functions
        function openBooking() {
            document.getElementById('bookingOverlay').classList.add('active');
        }

        function closeBooking() {
            document.getElementById('bookingOverlay').classList.remove('active');
        }

        function submitBooking(event) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData);

            console.log('Booking request:', data);
            console.log('Conversation history:', conversationHistory);

            closeBooking();

            if (getLang() === 'fr') {
                addMessage('ai', `Parfait ! J'ai envoy√© votre demande √† Owen. Voici ce qu'il recevra :\n\n‚Ä¢ **Nom :** ${data.name}\n‚Ä¢ **Entreprise :** ${data.company || 'Non pr√©cis√©'}\n‚Ä¢ **Email :** ${data.email}\n‚Ä¢ **Poste :** ${data.role || 'Non pr√©cis√©'}\n‚Ä¢ **Cr√©neau pr√©f√©r√© :** ${data.timePreference}\n\nIl r√©pond g√©n√©ralement sous 24 heures. En attendant, continuez √† discuter avec moi ou explorez son portfolio !\n\n*Psst : Il re√ßoit aussi la transcription de notre conversation, il sera bien pr√©par√©.* üòâ`);
            } else {
                addMessage('ai', `Perfect! I've sent your request to Owen. Here's what he'll receive:\n\n‚Ä¢ **Name:** ${data.name}\n‚Ä¢ **Company:** ${data.company || 'Not specified'}\n‚Ä¢ **Email:** ${data.email}\n‚Ä¢ **Role:** ${data.role || 'Not specified'}\n‚Ä¢ **Preferred time:** ${data.timePreference}\n\nHe typically responds within 24 hours. In the meantime, feel free to keep chatting with me or explore his portfolio!\n\n*Psst: He also gets a transcript of our conversation, so he'll come prepared.* üòâ`);
            }

            form.reset();
        }

        // Initialize on load
        window.addEventListener('load', initChat);
    </script>
</body>
</html>
